
# üí¨ Django Real-Time Chat Engine
A professional real-time communication engine built using **Django Channels**, **Websocket** and **Django ORM**.This project implements an asynchronous backend architecture to handle live messaging with parmanent data persistence.

---

## üöÄ Current Implementation (Milestone 1, 2, 3 & 4)

The porject has evolved from a basic broadcaster to a persistent chat system:

- [x] **ASGI Configaration:** Configuared `asgi.py` to handle both Http and WebSockets Protocols using `ProtocolTypeRouter`.
- [x] **WebSocket Routing:** Implemented Dynamic URL routing in `routing.py` to capture room names using regular expressions.
- [x] **ASYNC Consumers:** Developed `ChatConsumer` in `consumers.py` to manage connection logic, room groups and real-time message broadcasting.
- [x] **URLs Configuration:** Mapped landing page & dynamic room URLs.
- [x] **Dockerized Redis Broker:** Successfully deployed `Redis` using Docker to manage real-time message brokering.
- [x] **Daphne Integration:** Using `Daphne` as the primary ASGI server for full-duplex communication. 
- [x] **Frontend Integration:** Fully functional JavaScript WebSocket API implemented for real-time messaging without refresh.
- [x] **Database Persistence (New):** Integrated `Message` model to store chat parmanently in the database.
- [x] **Thread-Safe DB Operations:** Used `@database sync_to_async` to handle synchronous Django ORM inside async consumers.
- [x] **Chat History Rendering:** Automated fetching of the last 50 messages upon joining a room via `views.py`.
- [x] **User Authentication (New):** Built-in Signup, Login, and Logout functionality using Django's Auth system.
- [x] **Access Control:** Restricted chat rooms to authenticated users only using @login_required decorators and LoginRequiredMixin.
- [x] **Template Inheritance:** Optimized UI with base.html and Django template blocks.
- [x] **Smart Chat UI:** Implemented dynamic left/right message alignment with color coding (Blue for self, Red for others).
- [x] **Improved UX:** Added auto-scroll, "Enter" key support, and real-time message identification for a better chat experience.
- [x] **Message Timestamps:** Integrated real-time timestamps (e.g., 10:30 PM) using Django filters and JavaScript for a professional chat experience.

--- 

## üõ†Ô∏è Technical Workflow & Security

1. Real-time Communication:
    1. **HandShake:** The client initiates a WebSocket connection to `ws/chat/ROOM_NAME/`.
    2. **Routing:** `routing.py` identifies the URL and maps it to the `ChatConsumer`.
    3. **Channel Layers:** Uses Redis/Channel Layers to bridge communication between different users in the same room. 
    4. **Asynchronous Handling:** All operations are non-blocking (Async), ensuring high scalability.
    5. **Persistent Storage:** Upon receiving a message, the consumer saves it to the database asynchronously before broadcasting.
    6. **History Retrieval:** When a user enters a room, the view layer queries the Database to render the chat history.

2. User Authentication & Access Control:
    7. **Secure Registration:** New users register through a secure UserCreationForm.
    8. **Session Management:** Django's LoginView handles credential verification and session creation.
    9. **Guard (Protected Access):** The @login_required decorator acts as a middleware to ensure unauthenticated users are redirected to the login page.
    10. **Identity Persistence:** Messages are now linked to the User model, ensuring every message has an owner (no more "Anonymous").

--- 

## üìÇ Project Structure (core files)

- `asgi.py`: The entry point for ASGI-compitable web-servers.
- `consumers.py`: Handles the server-side logic (Connect, Receive, Broadcast).
- `routing.py`: WebSocket equivalent of `urls.py`.
- `views.py`: Handles initial page rendering and **History Fetching**.
- `models.py`: Defines the `Message` schema.
- `templates/chat/`:Contains `base.html`, `index.html`, `room.html`, `signup.html` and `login.html`. 

--- 

## ‚öôÔ∏è How to Setup

1. **clone the repo:**
   ```bash
   git clone [https://github.com/mamun-2025/django-realtime-chat.git]
   cd my_chat_app

2. Run Redis (Docker):
    docker run --name my-chat-redis -p 6379:6379 -d redis

3. Install Dependencies:
    pip install django daphne channels channels-redis

4. Apply Migrations:
    python manage.py makemigrations
    python manage.py migrate

1. Create a superuser to access the admin panel:
   python manage.py createsuperuser

5. Run Server
   python manage.py runserver

---

## üõ†Ô∏è Upcoming Features
- [x]~~ Frontend integration with JavaScript WebSocket API.~~(Completed)

- [x]~~ Storing chat history in the database.~~(Completed)

[ ] Private Messaging (1-to-1).

[ ] Online/Offline presence indicators.

[ ] Image/File sharing capability.

[ ] Real-time typing indicators.

---

### üì§ GitHub-e upload korar step-by-step process:

Apni coding korben ar update korben‚Äîeta maintain kora khub shohoj. Nicher step-gulo follow korun:

1.  **Repo Initialize kora (Prothom barer jonno):**
    ```bash
    git init
    git add .
    git commit -m "Backend core: ASGI, Routing, and Consumers added"
    # GitHub-e ekta repository khule link-ta niche add korun
    git remote add origin https://github.com/your-username/your-repo-name.git
    git push -u origin main
    ```

2.  **Next Time (Jokhon e README ba Code change korben):**
    Jokhon-e kono file change korben ba README update korben, shudhu ei 3-te command diben:
    ```bash
    git add .
    git commit -m "README: updated project status and features"
    git push
    ```

**Pro-Tip:** Apni jokhon-e `consumers.py`-te kono logic change korben, README-te oi **Current Implementation**-er niche ekta line add kore diben.


















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































