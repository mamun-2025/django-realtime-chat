
# üí¨ Django Real-Time Chat Engine
A professional real-time communication engine built using **Django Channels**, **Websocket** and **Django ORM**.This project implements an asynchronous backend architecture to handle live messaging with parmanent data persistence.

---

## üöÄ Current Implementation (Milestone 1, 2 & 3)

The porject has evolved from a basic broadcaster to a persistent chat system:

- [x] **ASGI Configaration:** Configuared `asgi.py` to handle both Http and WebSockets Protocols using `ProtocolTypeRouter`.
- [x] **WebSocket Routing:** Implemented Dynamic URL routing in `routing.py` to capture room names using regular expressions.
- [x] **ASYNC Consumers:** Developed `ChatConsumer` in `consumers.py` to manage connection logic, room groups and real-time message broadcasting.
- [x] **Views & Templates:** Lobby and Dynamic Chat Room views implemented.
- [x] **URLs Configuration:** Mapped landing page & dynamic room URLs.
- [x] **Dockerized Redis Broker:** Successfully deployed `Redis` using Docker to manage real-time message brokering.
- [x] **Daphne Integration:** Using `Daphne` as the primary ASGI server for full-duplex communication. 
- [x] **Frontend Integration:** Fully functional JavaScript WebSocket API implemented for real-time messaging without refresh.
- [x] **Database Persistence (New):** Integrated `Message` model to store chat parmanently in the database.
- [x] **Thread-Safe DB Operations:** Used `@database sync_to_async` to handle synchronous Django ORM inside async consumers.
- [x] **Chat History Rendering:** Automated fetching of the last 50 messages upon joining a room via `views.py`.


--- 

## üõ†Ô∏è Technical Workflow

1. **HandShake:** The client initiates a WebSocket connection to `ws/chat/ROOM_NAME/`.
2. **Routing:** `routing.py` identifies the URL and maps it to the `ChatConsumer`.
3. **Channel Layers:** Uses Redis/Channel Layers to bridge communication between different users in the same room. 
4. **Asynchronous Handling:** All operations are non-blocking (Async), ensuring high scalability.
5. **Persistent Storage:** Upon receiving a message, the consumer saves it to the database asynchronously before broadcasting.
6. **History Retrieval:** When a user enters a room, the view layer queries the Database to render the chat history.

--- 

## üìÇ Project Structure (core files)

- `asgi.py`: The entry point for ASGI-compitable web-servers.
- `consumers.py`: Handles the server-side logic (Connect, Receive, Broadcast).
- `routing.py`: WebSocket equivalent of `urls.py`.
- `views.py`: Handles initial page rendering and **History Fetching**.
- `models.py`: Defines the `Message` schema.

--- 

## ‚öôÔ∏è How to Setup

1. **clone the repo:**
   ```bash
   git clone [https://github.com/mamun-2025/django-realtime-chat.git]

2. Run Redis (Docker):
docker run --name my-chat-redis -p 6379:6379 -d redis

3. Install Dependencies:
pip install django daphne channels chennels-redis

4. Apply Migrations:
python manage.py makemigrations
python manage.py migrate

5. Run Server
python manage.py runserver

---

## üõ†Ô∏è Upcoming Features
- [x]~~ Frontend integration with JavaScript WebSocket API.~~(Completed)

- [x]~~ Storing chat history in the database.~~(Completed)

[ ] User authentication and Private Messaging (1-to-1).

[ ] Online/Offline presence indicators.

[ ] Image/File sharing capability.

---

### üì§ GitHub-e upload korar step-by-step process:

Apni coding korben ar update korben‚Äîeta maintain kora khub shohoj. Nicher step-gulo follow korun:

1.  **Repo Initialize kora (Prothom barer jonno):**
    ```bash
    git init
    git add .
    git commit -m "Backend core: ASGI, Routing, and Consumers added"
    # GitHub-e ekta repository khule link-ta niche add korun
    git remote add origin https://github.com/your-username/your-repo-name.git
    git push -u origin main
    ```

2.  **Next Time (Jokhon e README ba Code change korben):**
    Jokhon-e kono file change korben ba README update korben, shudhu ei 3-te command diben:
    ```bash
    git add .
    git commit -m "README: updated project status and features"
    git push
    ```

**Pro-Tip:** Apni jokhon-e `consumers.py`-te kono logic change korben, README-te oi **Current Implementation**-er niche ekta line add kore diben.


















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































